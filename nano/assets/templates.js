window.TMPL={},TMPL.airlock_electronics=function(e,s,a){var l='<article class="display"><section>';l+=e.oneAccess?""+a.link("One Required","unlock",{access:"one"}):""+a.link("All Required","lock",{access:"one"}),l+=""+a.link("Reset","refresh",{access:"clear"})+'<section><table class="grow"><thead><tr>';var t=e.regions;if(t)for(var i,n=-1,d=t.length-1;d>n;)i=t[n+=1],l+='<th><span class="highlight bold">'+i.name+"</span></th>";l+="</tr></thead><tbody><tr>";var c=e.regions;if(c)for(var i,n=-1,r=c.length-1;r>n;){i=c[n+=1],l+="<td>";var o=i.accesses;if(o)for(var v,u=-1,p=o.length-1;p>u;)v=o[u+=1],l+=""+a.link(v.name,v.req?"check-square-o":"square-o",{access:v.id},null,v.req?"selected":null)+"<br />";l+="</td>"}return l+="</tr></tbody></table></article>"},TMPL.air_alarm=function(e,s,a){var l='<article class="notice">';if(l+=e.siliconUser?'<section><span class="label">Interface Lock:</span><div class="content">'+a.link("Engaged","lock",{toggleaccess:1},e.locked?"selected":null)+a.link("Disengaged","unlock",{toggleaccess:1},e.locked?null:"selected")+"</div></section>":e.locked?"<span>Swipe an ID card to unlock this interface.</span>":"<span>Swipe an ID card to lock this interface.</span>",l+='</article><article class="display"><header><h2>Air Status</h2></header>',e.environment_data){var t=e.environment_data;if(t)for(var i,n=-1,d=t.length-1;d>n;)i=t[n+=1],l+='<section class="text"><span class="label">'+i.name+':</span><div class="content">',l+=2==i.danger_level?"<span class='bad'>":1==i.danger_level?"<span class='average'>":"<span class='good'>",l+=""+a.fixed(i.value,2)+i.unit+"</span></div></section>";l+='<section class="text"><span class="label">Local Status:</span><div class="content">',l+=2==e.danger_level?"<span class='bad bold'>Danger (Internals Required)</span>":1==e.danger_level?"<span class='average bold'>Caution</span>":"<span class='good'>Optimal</span>",l+='</div></section><section class="text"><span class="label">Area Status:</span><div class="content">',l+=e.atmos_alarm?"<span class='bad bold'>Atmosphere Alarm</span>":e.fire_alarm?"<span class='bad bold'>Fire Alarm</span>":"<span class='good'>Nominal</span>",l+="</div></section>"}else l+="<section><span class='bad bold'>Warning: Cannot obtain air sample for analysis.</span></section>";if(e.dangerous&&(l+="<hr /><section><span class='bad bold'>Warning: Safety measures offline. Device may exhibit abnormal behavior.</span></section>"),l+="</article>",!e.locked||e.siliconUser)if(1!=e.screen&&(l+=""+a.link("Back","arrow-left",{screen:1})),1==e.screen)l+='<article class="display"><header><h2>Air Controls</h2></header><section class="button">',l+=e.atmos_alarm?""+a.link("Area Atmospheric Alarm","close",{atmos_reset:1},null,"caution"):""+a.link("Area Atmospheric Alarm","hand-stop-o",{atmos_alarm:1}),l+='</section><section class="button">',l+=3!=e.mode?""+a.link("Panic Siphon","exclamation",{mode:3}):""+a.link("Panic Siphon","close",{mode:1},null,"danger"),l+='</section><section class="button">'+a.link("Vent Controls","sign-out",{screen:2})+'</section><section class="button">'+a.link("Scrubber Controls","filter",{screen:3})+'</section><section class="button">'+a.link("Set Environmental Mode","cog",{screen:4})+'</section><section class="button">'+a.link("Set Alarm Threshold","bar-chart",{screen:5})+"</section></article>";else if(2==e.screen){var c=e.vents;if(c)for(var r,n=-1,o=c.length-1;o>n;)r=c[n+=1],l+='<article class="display"><header><h3>'+r.long_name+'</h3></header><section><span class="label">Power:</span><div class="content">',l+=r.power?""+a.link("On","power-off",{id_tag:r.id_tag,command:"power",val:0},null,null):""+a.link("Off","close",{id_tag:r.id_tag,command:"power",val:1},null,"danger"),l+='</div></section><section><span class="label">Mode:</span><div class="content">',l+="release"==r.direction?'<span class="good">Pressurizing</span>':'<span class="bad">Siphoning</span>',l+='</div></section><section><span class="label">Pressure Checks:</span><div class="content">'+a.link("Internal","sign-in",{id_tag:r.id_tag,command:"incheck",val:r.checks},null,r.incheck?"selected":null)+a.link("External","sign-out",{id_tag:r.id_tag,command:"excheck",val:r.checks},null,r.excheck?"selected":null)+'</div></section><section><span class="label">Set Pressure:</span><div class="content">'+a.link(a.fixed(r.external),"pencil",{id_tag:r.id_tag,command:"set_external_pressure"})+a.link("Reset","refresh",{id_tag:r.id_tag,command:"reset_external_pressure"},r.extdefault?"disabled":null)+"</div></section></article>";e.vents.length||(l+="No vents connected.")}else if(3==e.screen){var v=e.scrubbers;if(v)for(var u,n=-1,p=v.length-1;p>n;)u=v[n+=1],l+='<article class="display"><header><h3>'+u.long_name+'</h3></header><section><span class="label">Power:</span><div class="content">',l+=u.power?""+a.link("On","power-off",{id_tag:u.id_tag,command:"power",val:0},null,null):""+a.link("Off","close",{id_tag:u.id_tag,command:"power",val:1},null,"danger"),l+='</div></section><section><span class="label">Mode:</span><div class="content">',l+=u.scrubbing?""+a.link("Scrubbing","filter",{id_tag:u.id_tag,command:"scrubbing",val:0},null,null):""+a.link("Siphoning","sign-in",{id_tag:u.id_tag,command:"scrubbing",val:1},null,"danger"),l+='</div></section><section><span class="label">Range:</span><div class="content">',l+=u.widenet?""+a.link("Extended","expand",{id_tag:u.id_tag,command:"widenet",val:0},null,"caution"):""+a.link("Normal","compress",{id_tag:u.id_tag,command:"widenet",val:1},null,null),l+='</div></section><section><span class="label">Filters:</span><div class="content">'+a.link("CO2",u.filter_co2?"check-square-o":"square-o",{id_tag:u.id_tag,command:"co2_scrub",val:u.filter_co2?0:1},null,u.filter_co2?"selected":null)+a.link("N2O",u.filter_n2o?"check-square-o":"square-o",{id_tag:u.id_tag,command:"n2o_scrub",val:u.filter_n2o?0:1},null,u.filter_n2o?"selected":null)+a.link("Plasma",u.filter_toxins?"check-square-o":"square-o",{id_tag:u.id_tag,command:"tox_scrub",val:u.filter_toxins?0:1},null,u.filter_toxins?"selected":null)+"</div></section></article>";e.scrubbers.length||(l+="No scrubbers connected.")}else if(4==e.screen){l+='<article class="display"><header><h2>Environmental Modes</h2></header>';var m=e.modes;if(m)for(var k,n=-1,g=m.length-1;g>n;)k=m[n+=1],l+='<section class="button">'+a.link(k.name,k.selected?"check-square-o":"square-o",{mode:k.mode},null,k.selected?k.danger?"danger":"selected":null)+"</section>";l+="</display>"}else if(5==e.screen){l+="<article class=\"display\"><header><h2>Alarm Thresholds</h2></header><table><thead><tr><th></th><th><span class='bad'>min2</span></th><th><span class='average'>min1</span></th><th><span class='average'>max1</span></th><th><span class='bad'>max2</span></th></tr></thead><tbody>";var b=e.thresholds;if(b)for(var h,n=-1,f=b.length-1;f>n;){h=b[n+=1],l+="<tr><th>"+h.name+"</th>";var _=h.settings;if(_)for(var L,C=-1,P=_.length-1;P>C;)L=_[C+=1],l+="<td>"+a.link(L.selected>=0?a.round(100*L.selected)/100:"Off",null,{command:"set_threshold",env:L.env,"var":L.val})+"</td>";l+="</tr>"}l+="</tbody><table></article>"}return l},TMPL.apc=function(e,s,a){var l='<article class="notice">';l+=e.siliconUser?'<section><span class="label">Interface Lock:</span><div class="content">'+a.link("Engaged","lock",{toggleaccess:1},e.locked?"selected":null)+a.link("Disengaged","unlock",{toggleaccess:1},e.malfStatus>=2?"linkOff":e.locked?null:"selected")+"</div></section>":e.locked?"<span>Swipe an ID card to unlock this interface.</span>":"<span>Swipe an ID card to lock this interface.</span>",l+='</article><article class="display"><header><h2>Power Status</h2></header><section><span class="label">Main Breaker:</span><div class="content">',l+=e.locked&&!e.siliconUser?e.isOperating?"<span class='good'>On</span>":"<span class='bad'>Off</span>":""+a.link("On","power-off",{breaker:1},e.isOperating?"selected":null)+a.link("Off","close",{breaker:1},e.isOperating?null:"selected"),l+='</div></section><section><span class="label">External Power:</span><div class="content">',l+=2==e.externalPower?"<span class='good'>Good</span>":1==e.externalPower?"<span class='average'>Low</span>":"<span class='bad'>None</span>",l+='</div></section><section><span class="label">Power Cell:</span><div class="content">',l+=null!=e.powerCellStatus?""+a.bar(e.powerCellStatus,0,100,e.powerCellStatus>=50?"good":e.powerCellStatus>=25?"average":"bad",a.fixed(e.powerCellStatus)+"%"):"<span class='bad'>Power cell removed.</span>",l+="</div></section>",null!=e.powerCellStatus&&(l+='<section><span class="label">Charge Mode:</span><div class="content">',l+=e.locked&&!e.siliconUser?e.chargeMode?"<span class='bold good'>Auto</span>":"<span class='bold bad'>Off</span>":""+a.link("Auto","refresh",{cmode:1},e.chargeMode?"selected":null)+a.link("Off","close",{cmode:1},e.chargeMode?null:"selected"),l+="&nbsp;",l+=e.chargingStatus>1?"[<span class='bold good'>Fully Charged</span>]":1==e.chargingStatus?"[<span class='bold average'>Charging</span>]":"[<span class='bold bad'>Not Charging</span>]",l+="</div></section>"),l+='</article><article class="display"><header><h2>Power Channels</h2></header><table class="grow">';var t=e.powerChannels;if(t)for(var i,n=-1,d=t.length-1;d>n;)i=t[n+=1],l+="<tr><th>"+i.title+":</th><td>"+i.powerLoad+" W</td><td>",i.status<=1?l+="<span class='bold bad'>Off</span>":i.status>=2&&(l+="<span class='bold good'>On</span>"),l+="</td><td>",l+=1==i.status||3==i.status?"[Auto]":"[Manual]",l+='</td><td class="floatRight">',(!e.locked||e.siliconUser)&&(l+=""+a.link("Auto","refresh",i.topicParams.auto,1==i.status||3==i.status?"selected":null)+a.link("On","power-off",i.topicParams.on,2==i.status?"selected":null)+a.link("Off","close",i.topicParams.off,0==i.status?"selected":null)),l+="</td></tr>";return l+='<tr><th>Total Load:</th><td class="bold">'+e.totalLoad+" W</td><td></td><td></td><td></td></tr></table></article>",e.siliconUser&&(l+='<article class="display"><header><h2>System Overrides</h2></header><section>'+a.link("Overload Lighting Circuit","lightbulb-o",{overload:1})+"</section><section>",1==e.malfStatus?l+=""+a.link("Override Programming","terminal",{malfhack:1}):2==e.malfStatus?l+=""+a.link("Shunt Core Processes","caret-square-o-down",{occupyapc:1}):3==e.malfStatus?l+=""+a.link("Return to Main Core","carat-square-o-left",{deoccupyapc:1}):4==e.malfStatus&&(l+=""+a.link("Shunt Core Processes","caret-square-o-down",{occupyapc:1},"linkOff")),l+="</section></article>"),l+='<article class="notice"><section><span class="label">Cover Lock:</span><div class="content">',l+=e.locked&&!e.siliconUser?e.coverLocked?"<span>Engaged</span>":"<span>Disengaged</span>":""+a.link("Engaged","lock",{lock:1},e.coverLocked?"selected":null)+a.link("Disengaged","unlock",{lock:1},e.coverLocked?null:"selected"),l+="</div></section></article>"},TMPL.atmos_filter=function(e,s,a){var l='<div class="item"><div class="itemLabel">Power:</div><div class="itemContent">'+a.link(e.on?"On":"Off",e.on?"power":"close",{power:1})+'</div></div><div class="item"><div class="itemLabel">Output Pressure:</div><div class="itemContent">'+a.link("Set","pencil",{set_press:"set"})+a.link("Max","plus",{set_press:"max"},e.set_pressure==e.max_pressure?"disabled":null)+e.set_pressure+' kPa</div></div><div class="item"><div class="itemLabel">Filter:</div><div class="itemContent">'+a.link("Plasma",null,{filterset:0},0==e.filter_type?"selected":null)+a.link("O2",null,{filterset:1},1==e.filter_type?"selected":null)+a.link("N2",null,{filterset:2},2==e.filter_type?"selected":null)+a.link("CO2",null,{filterset:3},3==e.filter_type?"selected":null)+a.link("N2O",null,{filterset:4},4==e.filter_type?"selected":null)+a.link("Nothing",null,{filterset:-1},-1==e.filter_type?"selected":null)+"</div></div>";return l},TMPL.atmos_mixer=function(e,s,a){var l='<div class="item"><div class="itemLabel">Power:</div><div class="itemContent">'+a.link(e.on?"On":"Off",e.on?"power":"close",{power:1})+'</div></div><div class="item"><div class="itemLabel">Output Pressure:</div><div class="itemContent">'+a.link("Set","pencil",{set_press:"set"})+a.link("Max","plus",{set_press:"max"},e.set_pressure==e.max_pressure?"disabled":null)+e.set_pressure+' kPa</div></div><div class="item"><div class="itemLabel">Node 1:</div><div class="itemContent">'+a.link("","seek-start",{node1_c:"-0.1"},null)+a.link("","triangle-1-w",{node1_c:"-0.01"},null)+a.link("","triangle-1-e",{node1_c:"0.01"},null)+a.link("","seek-end",{node1_c:"0.1"},null)+e.node1_concentration+'%</div></div><div class="item"><div class="itemLabel">Node 2:</div><div class="itemContent">'+a.link("","seek-start",{node2_c:"-0.1"},null)+a.link("","triangle-1-w",{node2_c:"-0.01"},null)+a.link("","triangle-1-e",{node2_c:"0.01"},null)+a.link("","seek-end",{node2_c:"0.1"},null)+e.node2_concentration+"%</div></div>";return l},TMPL.atmos_pump=function(e,s,a){var l='<div class="item"><div class="itemLabel">Power:</div><div class="itemContent">'+a.link(e.on?"On":"Off",e.on?"power":"close",{power:1})+"</div></div>";return l+=e.max_rate?'<div class="item"><div class="itemLabel">Transfer Rate:</div><div class="itemContent">'+a.link("Set","pencil",{set_transfer_rate:"set"})+a.link("Max","plus",{set_transfer_rate:"max"},e.transfer_rate==e.max_rate?"disabled":null)+e.transfer_rate+" L/s</div></div>":'<div class="item"><div class="itemLabel">Output Pressure:</div><div class="itemContent">'+a.link("Set","pencil",{set_press:"set"})+a.link("Max","plus",{set_press:"max"},e.set_pressure==e.max_pressure?"disabled":null)+e.set_pressure+" kPa</div></div>"},TMPL.canister=function(e,s,a){var l="";return l+=e.hasHoldingTank?'<div class="noticePlaceholder">The regulator is connected to a tank.</div>':'<div class="notice">The regulator is not connected to a tank.</div>',l+='<h2>Canister</h2><div class="item">'+a.link("Relabel","pencil",{relabel:1},e.canLabel?null:"disabled")+'</div><div class="item"><div class="itemLabel">Pressure:</div><div class="itemContent">'+e.tankPressure+' kPa</div></div><div class="item"><div class="itemLabel">Port:</div><div class="itemContent">',l+=e.portConnected?'<span class="good">Connected</span>':'<span class="bad">Disconnected</span>',l+='</div></div><h2>Valve</h2><div class="item"><div class="itemLabel">Release Pressure:</div><div class="itemContent">'+a.bar(e.releasePressure,e.minReleasePressure,e.maxReleasePressure)+e.releasePressure+' kPa</div></div><div class="item"><div class="itemLabel">Pressure Regulator:</div><div class="itemContent">'+a.link("Reset","refresh",{release_p:"reset"},e.releasePressure!=e.defaultReleasePressure?null:"disabled")+a.link("Min","minus",{release_p:"min"},e.releasePressure>e.minReleasePressure?null:"disabled")+a.link("Set","pencil",{release_p:"custom"},null)+a.link("Max","plus",{release_p:"max"},e.releasePressure<e.maxReleasePressure?null:"disabled")+'<br class="clearBoth" />'+a.link("Open","unlock",{toggle:1},e.valveOpen?"selected":null)+a.link("Close","lock",{toggle:1},e.valveOpen?null:"selected")+"</div></div><h2>Holding Tank</h2>",l+=e.hasHoldingTank?""+a.link("Eject","eject",{remove_tank:1})+'<div class="item"><div class="itemLabel">Label:</div><div class="itemContent">'+e.holdingTank.name+'</div></div><div class="item"><div class="itemLabel">Tank Pressure:</div><div class="itemContent">'+e.holdingTank.tankPressure+" kPa</div></div>":'<div class="item"><span class="average">No Holding Tank</span></div>'},TMPL.chem_dispenser=function(e,s,a){var l='<h2>Status</h2><div class="statusDisplay"><div class="item"><div class="itemLabel">Energy:</div><div class="itemContent">'+a.bar(e.energy,0,e.maxEnergy,"good")+e.energy+' Units</div></div><div class="item"><div class="itemLabel">Amount:</div><div class="itemContent">',t=e.beakerTransferAmounts;if(t)for(var i,n=-1,d=t.length-1;d>n;)i=t[n+=1],l+=""+a.link(i,"plus",{amount:i},e.amount==i?"selected":null);l+='</div></div></div><h2>Dispense</h2><div class="statusDisplay"><div class="item"><div class="itemContentWidest">';var c=e.chemicals;if(c)for(var r,n=-1,o=c.length-1;o>n;)r=c[n+=1],l+=""+a.link(r.title,"tint",r.commands,null,"link fixedLeft");l+='</div></div></div><h2>Beaker</h2><div class="statusDisplay"><div class="item"><div class="itemLabel">'+a.link("Eject","eject",{ejectBeaker:1},e.isBeakerLoaded?null:"disabled")+'</div><div class="itemContent">';var v=e.beakerTransferAmounts;if(v)for(var i,n=-1,u=v.length-1;u>n;)i=v[n+=1],l+=""+a.link(i,"minus",{remove:i});if(l+='</div></div><div class="item"><div class="itemLabel">Contents:</div><div class="itemContent" style="min-height: 175px;">',e.isBeakerLoaded)if(l+="<b>Volume: "+e.beakerCurrentVolume+"/"+e.beakerMaxVolume+" Units</b><br />",e.beakerContents.length){var p=e.beakerContents;if(p)for(var m,n=-1,k=p.length-1;k>n;)m=p[n+=1],l+='<span class="highlight">'+m.volume+" units of "+m.name+"</span><br />"}else l+='<span class="bad">Beaker Empty</span>';else l+='<span class="average">No Beaker Loaded</span>';return l+="</div></div></div>"},TMPL.chem_heater=function(e,s,a){var l='<h2>Status</h2><div class="statusDisplay"><div class="item"><div class="itemLabel">Power:</div><div class="itemContent">'+a.link(e.isActive?"On":"Off",e.isActive?"power":"close",{toggle_on:1},e.isBeakerLoaded?null:"disabled")+'</div></div><div class="item"><div class="itemLabel">Target:</div><div class="itemContent">'+a.link(e.targetTemp+"K","pencil",{adjust_temperature:"input"})+'</div></div></div><h2>Beaker</h2><div class="statusDisplay"><div class="item"><div class="itemLabel">'+a.link("Eject","eject",{eject_beaker:1},e.isBeakerLoaded?null:"disabled")+'</div></div><div class="item"><div class="itemLabel">Contents:</div><div class="itemContent" style="min-height: 175px;">';if(e.isBeakerLoaded)if(l+="Temperature: "+e.currentTemp+"K<br />",e.beakerContents.length){var t=e.beakerContents;if(t)for(var i,n=-1,d=t.length-1;d>n;)i=t[n+=1],l+='<span class="highlight">'+i.volume+" units of "+i.name+"</span><br />"}else l+='<span class="bad">Beaker Empty</span>';else l+='<span class="average">No Beaker Loaded</span>';return l+="</div></div></div>"},TMPL.cryo=function(e,s,a){var l='<h2>Occupant</h2><div class="statusDisplay"><div class="item"><div class="itemLabel">Occupant:</div><div class="itemContent">';if(l+=e.hasOccupant?""+e.occupant.name:'<span class="average">No Occupant</span>',l+="</div></div>",e.hasOccupant&&(l+='<div class="item"><div class="itemLabel">State:</div><div class="itemContent">',l+=0==e.occupant.stat?'<span class="good">Conscious</span>':1==e.occupant.stat?'<span class="average">Unconscious</span>':'<span class="bad">Dead</span>',l+='</div></div><div class="item"><div class="itemLabel">Temperature:</div><div class="itemContent">'+a.round(e.occupant.bodyTemperature)+" K</div></div>"),e.occupant.stat<2&&(l+='<div class="item"><div class="itemLabel">Health:</div><div class="itemContent">',l+=e.occupant.health>=0?""+a.bar(e.occupant.health,0,e.occupant.maxHealth,"good"):""+a.bar(e.occupant.health,0,e.occupant.minHealth,"average"),l+=""+a.round(e.occupant.health)+'</div></div><div class="item"><div class="itemLabel">Brute:</div><div class="itemContent">'+a.bar(e.occupant.bruteLoss,0,e.occupant.maxHealth,"bad")+a.round(e.occupant.bruteLoss)+'</div></div><div class="item"><div class="itemLabel">Respiratory:</div><div class="itemContent">'+a.bar(e.occupant.oxyLoss,0,e.occupant.maxHealth,"bad")+a.round(e.occupant.oxyLoss)+'</div></div><div class="item"><div class="itemLabel">Toxin:</div><div class="itemContent">'+a.bar(e.occupant.toxLoss,0,e.occupant.maxHealth,"bad")+a.round(e.occupant.toxLoss)+'</div></div><div class="item"><div class="itemLabel">Burn:</div><div class="itemContent">'+a.bar(e.occupant.fireLoss,0,e.occupant.maxHealth,"bad")+a.round(e.occupant.fireLoss)+"</div></div>"),l+='</div><h2>Cell</h2><div class="statusDisplay"><div class="item"><div class="itemLabel">Power:</div><div class="itemContent">'+a.link("On","power",{switchOn:1},e.isOperating?"selected":null)+a.link("Off","close",{switchOff:1},e.isOperating?null:"selected")+'</div></div><div class="item"><div class="itemLabel">Temperature:</div><div class="itemContent"><span class="'+e.cellTemperatureStatus+'">'+e.cellTemperature+' K</span></div></div><div class="item"><div class="itemLabel">Door:</div><div class="itemContent">'+a.link("Open","unlocked",{openCell:1},e.isOpen?"disabled":null)+a.link("Close","locked",{closeCell:1},e.isOpen?null:"disabled")+'</div></div><div class="item"><div class="itemLabel">Eject:</div><div class="itemContent">'+a.link("Auto","eject",{autoEject:1},e.autoEject?"selected":null)+a.link("Manual","pin-s",{autoEject:0},e.autoEject?null:"selected")+'</div></div></div><h2>Beaker</h2><div class="statusDisplay"><div class="item"><div class="itemLabel">'+a.link("Eject","eject",{ejectBeaker:1},e.isBeakerLoaded?null:"disabled")+'</div></div><div class="item"><div class="itemLabel">Contents:</div><div class="itemContent">',e.isBeakerLoaded)if(e.beakerContents.length){var t=e.beakerContents;if(t)for(var i,n=-1,d=t.length-1;d>n;)i=t[n+=1],l+='<span class="highlight">'+i.volume+" units of "+i.name+"</span><br />"}else l+='<span class="bad">Beaker Empty</span>';else l+='<span class="average">No Beaker Loaded</span>';return l+="</div></div></div>"},TMPL.smes=function(e,s,a){var l='<h2>Storage</h2><div class="statusDisplay"><div class="item"><div class="itemLabel">Stored Energy:</div><div class="itemContent">'+a.bar(e.capacityPercent,0,100,e.capacityPercent>=50?"good":e.capacityPercent>=15?"average":"bad")+'<div class="statusValue">'+a.round(e.capacityPercent)+'%</div></div></div></div><h2>Input</h2><div class="statusDisplay"><div class="item"><div class="itemLabel">Charge Mode:</div><div class="itemContent">'+a.link("Auto","refresh",{input_attempt:1},e.inputAttempt?"selected":null)+a.link("Off","close",{input_attempt:0},e.inputAttempt?null:"selected")+"&nbsp;";return l+=e.capacityPercent>=99?"[<span class='good'>Fully Charged</span>]":e.inputting?"[<span class='average'>Charging</span>]":"[<span class='bad'>Not Charging</span>]",l+='</div></div><div class="item"><div class="itemLabel">Input Setting:</div><div class="itemContent">'+a.bar(e.inputLevel,0,e.inputLevelMax)+"&nbsp;"+e.inputLevel+' W<br class="clearBoth" />'+a.link("","fast-backward",{set_input_level:"0"},e.inputLevel?null:"selected")+a.link("","backward",{set_input_level:"minus"},e.inputLevel?null:"disabled")+a.link("Set","pencil",{set_input_level:"custom"},null)+a.link("","forward",{set_input_level:"plus"},e.inputLevel==e.inputLevelMax?"disabled":null)+a.link("","fast-forward",{set_input_level:"max"},e.inputLevel==e.inputLevelMax?"selected":null)+'</div></div><div class="item"><div class="itemLabel">Available:</div><div class="itemContent">'+e.inputAvailable+' W</div></div></div><h2>Output</h2><div class="statusDisplay"><div class="item"><div class="itemLabel">Charge Mode:</div><div class="itemContent">'+a.link("On","power-off",{output_attempt:1},e.outputAttempt?"selected":null)+a.link("Off","close",{output_attempt:0},e.outputAttempt?null:"selected")+"&nbsp;",l+=e.outputting?'[<span class="good">Sending</span>]':e.charge>0?'[<span class="average">Not Sending</span>]':'[<span class="bad">No Charge</span>]',l+='</div></div><div class="item"><div class="itemLabel">Output Setting:</div><div class="itemContent">'+a.bar(e.outputLevel,0,e.outputLevelMax)+"&nbsp;"+e.outputLevel+' W<br class="clearBoth" />'+a.link("","fast-backward",{set_output_level:"0"},e.outputLevel?null:"selected")+a.link("","backward",{set_output_level:"minus"},e.outputLevel?null:"disabled")+a.link("Set","pencil",{set_output_level:"custom"},null)+a.link("","forward",{set_output_level:"plus"},e.outputLevel==e.outputLevelMax?"disabled":null)+a.link("","fast-forward",{set_output_level:"max"},e.outputLevel==e.outputLevelMax?"selected":null)+'</div></div><div class="item"><div class="itemLabel">Outputting:</div><div class="itemContent">'+e.outputUsed+" W</div></div></div>"},TMPL.solar_control=function(e,s,a){var l='<h2>Status</h2><div class="statusDisplay"><div class="item"><div class="itemLabel">Generated Power:</div><div class="itemContent">'+e.generated+' W</div></div><div class="item"><div class="itemLabel">Orientation:</div><div class="itemContent">'+e.angle+"&deg ("+e.direction+")"+a.link("15&deg","minus",{rate_control:"1",cdir:"-15"})+a.link("1&deg","minus",{rate_control:"1",cdir:"-1"})+a.link("1&deg","plus",{rate_control:"1",cdir:"1"})+a.link("15&deg","plus",{rate_control:"1",cdir:"15"})+'</div></div></div><h2>Tracking</h2><div class="statusDisplay"><div class="item"><div class=\'itemLabel\'>Tracker Mode:</div><div class="itemContent">'+a.link("Off","close",{track:"0"},0==e.tracking_state?"selected":"")+a.link("Timed","clock",{track:"1"},1==e.tracking_state?"selected":"");return l+=e.connected_tracker?""+a.link("Auto","signal-diag",{track:"2"},2==e.tracking_state?"selected":""):""+a.link("Auto","signal-diag",null,"disabled"),l+='</div></div><div class="item"><div class="itemLabel">Tracking Rate:</div><div class="itemContent">'+e.tracking_rate+" deg/h ("+e.rotating_way+")"+a.link("180&deg","minus",{rate_control:"1",tdir:"-180"})+a.link("30&deg","minus",{rate_control:"1",tdir:"-30"})+a.link("1&deg","minus",{rate_control:"1",tdir:"-1"})+a.link("1&deg","plus",{rate_control:"1",tdir:"1"})+a.link("30&deg","plus",{rate_control:"1",tdir:"30"})+a.link("180&deg","plus",{rate_control:"1",tdir:"180"})+'</div></div></div><h2>Devices</h2><div class="statusDisplay"><div class="item"><div class="itemLabel">Solar Tracker:</div><div class="itemContent">',l+=e.connected_tracker?'<span class="good">Found</span>':'<span class="bad">Not Found</span>',l+='</div></div><div class="item"><div class="itemLabel">Solars Panels:</div><div class="itemContent"><span class="'+(e.connected_panels?"good":"bad")+'">'+e.connected_panels+' Connected</span></div></div><div class="item">'+a.link("","refresh",{search_connected:"1"})+"</div></div>"},TMPL.space_heater=function(e,s,a){var l='<h2>Status</h2><div class="statusDisplay"><div class="item"><div class="itemLabel">Power:</div><div class="itemContent">'+a.link("On","power",{power:1},e.on?"selected":null)+a.link("Off","close",{power:0},e.on?null:"selected")+'</div></div><div class="item"><div class="itemLabel">Stored Energy:</div><div class="itemContent">';return e.hasPowercell?(l+=""+a.bar(e.powerLevel,0,100,"good")+"&nbsp;"+e.powerLevel+"%",e.open&&(l+="<br />"+a.link("Eject","eject",{cellremove:1},null))):(l+="No power cell loaded.",e.open&&(l+=""+a.link("Install","eject",{cellinstall:1},null))),l+='</div></div></div><h2>Thermostat</h2><div class="statusDisplay"><div class="item"><div class="itemLabel">Current Temp:</div><div class="itemContent">'+e.currentTemp+'&deg;C</div></div><div class="item"><div class="itemLabel">Target Temp:</div><div class="itemContent">'+e.targetTemp+"&deg;C",e.open&&(l+="<br />"+a.link("","seek-prev",{temp:-20},e.targetTemp>e.minTemp?null:"disabled")+a.link("","triangle-1-w",{temp:-5},e.targetTemp>e.minTemp?null:"disabled")+a.link("Set","pencil",{temp:"custom"},null)+a.link("","triangle-1-e",{temp:5},e.targetTemp<e.maxTemp?null:"disabled")+a.link("","seek-next",{temp:20},e.targetTemp<e.maxTemp?null:"disabled")),l+='</div></div><div class="item"><div class="itemLabel">Operational Mode:</div><div class="itemContent">',l+=e.open?""+a.link("Heat","arrowthick-1-n",{mode:"heat"},"heat"!=e.mode?null:"selected")+a.link("Cool","arrowthick-1-s",{mode:"cool"},"cool"!=e.mode?null:"selected")+a.link("Auto","arrowthick-2-n-s",{mode:"auto"},"heat"==e.mode||"cool"==e.mode?null:"selected"):"heat"==e.mode?"Heat":"cool"==e.mode?"Cool":"Auto",l+="</div></div></div>"},TMPL.tanks=function(e,s,a){var l="";return l+=e.maskConnected?'<div class="noticePlaceholder">The regulator is connected to a mask.</div>':'<div class="notice">The regulator is not connected to a mask.</div>',l+='<div class="item"><div class="itemLabel">Tank Pressure:</div><div class="itemContent">'+a.bar(e.tankPressure,0,1013,e.tankPressure>200?"good":e.tankPressure>100?"average":"bad")+e.tankPressure+' kPa</div></div><div class="item"><div class="itemLabel">Release Pressure:</div><div class="itemContent">'+a.bar(e.releasePressure,e.minReleasePressure,e.maxReleasePressure)+e.releasePressure+' kPa</div></div><div class="item"><div class="itemLabel">Pressure Regulator:</div><div class="itemContent">'+a.link("Reset","refresh",{dist_p:"reset"},e.releasePressure!=e.defaultReleasePressure?null:"disabled")+a.link("Min","minus",{dist_p:"min"},e.releasePressure>e.minReleasePressure?null:"disabled")+a.link("Set","pencil",{dist_p:"custom"},null)+a.link("Max","plus",{dist_p:"max"},e.releasePressure<e.maxReleasePressure?null:"disabled")+'<br class="clearBoth" />'+a.link("Open","unlock",{stat:1},e.maskConnected?e.valveOpen?"selected":null:"disabled")+a.link("Close","lock",{stat:1},e.valveOpen?null:"selected")+"</div></div>"},TMPL._generic=function(e,s,a){var l="<div id='content' class='content'><div class='loading'>Initiating...</div></div>";return l},TMPL._nanotrasen=function(e,s,a){var l="<header role='titlebar' unselectable='on'><i class='statusicon' unselectable=\"on\"></i><div class='title' unselectable='on'>"+s.title+"</div></header><div id='content' class='content' unselectable='on'><div class='loading'>Initiating...</div></div>";return l};